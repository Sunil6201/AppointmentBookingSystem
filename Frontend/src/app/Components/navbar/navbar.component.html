<nav class="navbar navbar-expand-lg navbar-dark custom-navbar">
  <div class="container-fluid">
    <div class="menu-icon-container">
      <button class="btn btn-link me-2" type="button" (click)="toggleSidebar()">
        <i class="fas fa-bars"></i>
      </button>
    </div>

    <div class="logo-container">
      <img src="https://www.adventemodal.com/uploads/1/3/4/4/134437915/published/advent-emodal-horizontal-color_2.png" alt="Logo" class="logo">
    </div>

    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse justify-content-end" id="navbarNav">
      <ul class="navbar-nav">
        <li *ngIf="!isLoggedIn()" class="nav-item">
          <a class="nav-link" routerLink="/login"><i class="fas fa-sign-in-alt"></i> Login</a>
        </li>
        <li *ngIf="!isLoggedIn()" class="nav-item">
          <a class="nav-link" routerLink="/register"><i class="fas fa-user-plus"></i> Register</a>
        </li>
        <li *ngIf="isLoggedIn()" class="nav-item">
          <span class="nav-link">Username: {{ username }}</span>
        </li>
        <li *ngIf="isLoggedIn()" class="nav-item">
          <span class="nav-link">Role: {{ role }}</span>
        </li>
        <li *ngIf="isLoggedIn()" class="nav-item">
          <a class="nav-link" href="#" (click)="logout()"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- Backdrop -->
<div class="backdrop" *ngIf="showSidebar" (click)="closeSidebar()"></div>

<!-- Sidebar -->
<div class="sidebar" [ngClass]="{'show': showSidebar}">
  <ul>
    <!-- User Info -->
    <li>
      <span class="sidebar-user">Username: {{ username }}</span>
    </li>
    <li>
      <span class="sidebar-role">Role: {{ role }}</span>
    </li>
    

    <!-- Admin Navigation -->
    <li *ngIf="role === 'Admin'">
      <button (click)="navigateToDrivers()" class="btn btn-secondary w-100"><i class="fas fa-users"></i> Manage Drivers</button>
    </li>
    <li *ngIf="role === 'Admin'">
      <button (click)="navigateToTerminals()" class="btn btn-info w-100"><i class="fas fa-map-marker-alt"></i> Manage Terminals</button>
    </li>
    <li *ngIf="role === 'Admin'">
      <button (click)="navigateToTruckingCompanies()" class="btn btn-warning w-100"><i class="fas fa-truck"></i> Manage Trucking Companies</button>
    </li>
    <li *ngIf="role === 'Admin'">
      <button (click)="navigateToContainers()" class="btn btn-success w-100"><i class="fas fa-box"></i> Manage Containers</button>
    </li>
    <li *ngIf="role === 'Admin'">
      <button (click)="navigateToShip()" class="btn btn-success w-100"><i class="fas fa-ship"></i> Manage Ship</button>
    </li>
    
    <!-- Button visible for both Admin and User roles -->
    <li *ngIf="role === 'Admin' || role === 'User'">
      <button (click)="navigateToAppointments()" class="btn btn-primary w-100"><i class="fas fa-calendar-check"></i> Book Appointments</button>
    </li>

    <li>
      <button (click)="logout()" class="btn btn-danger w-100"><i class="fas fa-sign-out-alt"></i> Logout</button>
    </li>
  </ul>
</div>
